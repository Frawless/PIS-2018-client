<h2>Nový produkt</h2>
<div class="row" *ngIf="product">
    <div class="col-md-6">
        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text">Jméno:</span>
            </div>
              <input type="text" class="form-control" id="name"
                     required
                     appForbiddenName="Rohlík"
                     [ngModel]="product.name" name="name"
                     (ngModelChange)="product.name=$event"
                     placeholder="Rohlík"
                     #firstname="ngModel"/>

        </div>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text">Cena:</span>
            </div>
            <input type="number" class="form-control" id="price"
                   required
                   [ngModel]="product.price" name="price"
                   (ngModelChange)="product.price=$event"
                   placeholder="3"
                   #firstname="ngModel"/>
             <div class="input-group-append">
                 <span class="input-group-text">Kč</span>
             </div>
        </div>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text">Celkový počet:</span>
            </div>
            <input type="number" class="form-control" id="totalAmount"
                   required
                   [ngModel]="product.totalAmount" name="totalAmount"
                   (ngModelChange)="product.totalAmount=$event"
                   placeholder="10"
                   #lastname="ngModel"/>
        </div>


        <div>
            <label>Ingredience:</label>
            <div class="input-group mt-2" *ngFor="let prodIng of product.ingredients; let i = index">
                <select [(ngModel)]="product.ingredients[i].id" class="form-control">
                    <option *ngFor="let dataIng of ingredients" value="{{dataIng.id}}" [selected]="prodIng.id === dataIng.id">{{dataIng.name}}</option>
                </select>
                <span *ngIf="i != 0" class="input-group-addon">
                   <button class="btn btn-secondary btn-danger" (click)="product.ingredients.splice(i, 1);">
                       <i class="fa fa-fw fa-minus-square"></i>
                   </button>
                </span>
            </div>
            <button class="btn btn-primary btn-block mt-3" (click)="product.ingredients.push({})">
                <i class="fa fa-fw fa-plus-square"></i>
            </button>
        </div>
      </div>

      <div class="col-md-6">
        <fieldset class="form-group">
            <div class="custom-file">
                <label class="form-control-label" >Obrázek produktu:</label>
                <form (ngSubmit) = "submitPhoto()">
                    <image-preview> </image-preview>
                </form>
            </div>
        </fieldset>
    </div>

    <button class="btn btn-success ml-3 mt-4" (click)="add();">Přidat</button>
</div>
